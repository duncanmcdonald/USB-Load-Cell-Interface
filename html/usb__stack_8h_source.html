<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>USB Load Cell Interface: E:/Users/Duncan/Dropbox/Solid-Motion/SGA01-USB/Code/avr/smfirmware/usbstack/usb_stack.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">USB Load Cell Interface
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('usb__stack_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">usb_stack.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="usb__stack_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef __USB_STACK__H__</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#define __USB_STACK__H__</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#ifdef USB_DEBUG</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#define usbstack_debug_write debug_write</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#define usbstack_debug_write_nl debug_write_nl</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#define usbstack_debug_write_string debug_write_string</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#define usbstack_debug_write_hex debug_write_hex</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="group__std__request.html#ga7e7e42d44865df5b1d8125dcdb57a595">   19</a></span>&#160;<span class="preprocessor">#define usbstack_debug_write(...)</span></div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="group__std__request.html#gab822f46cc50e3cae09014879c223740a">   20</a></span>&#160;<span class="preprocessor">#define usbstack_debug_write_nl(...)</span></div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="group__std__request.html#ga6f2ba91377c010181bce57ae30865e25">   21</a></span>&#160;<span class="preprocessor">#define usbstack_debug_write_string(...)</span></div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="group__std__request.html#gadf7f720660e75da44c30431eb857f2fc">   22</a></span>&#160;<span class="preprocessor">#define usbstack_debug_write_hex(...)</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__std__request.html#ga8fd55460e1cb09b83e99cd403fd5eeb8">usb_stack_init_device</a>();</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__std__request.html#ga86bea8cf48b972656c17d6e13a3c2df5">usb_stack_service</a>();</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">extern</span> <span class="keyword">volatile</span> <a class="code" href="compiler_8h.html#adf928e51a60dba0df29d615401cc55a8">U16</a> <a class="code" href="usb__stack_8h.html#a0251275ab3599c16c2643203dfddd1f2">usb_stack_event</a>;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#ifndef usb_stack_action_vbus_on</span></div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a49a34adcec6710a8be4853f3a721b9ca">   38</a></span>&#160;<span class="preprocessor">#define usb_stack_action_vbus_on()</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#ifndef usb_stack_action_vbus_off</span></div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#af77fdc58ce997df22f5accf40708fd19">   42</a></span>&#160;<span class="preprocessor">#define usb_stack_action_vbus_off()</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#ifndef usb_stack_action_sof</span></div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a9ee9eb0586928fff5a0c910a7dd23a1a">   46</a></span>&#160;<span class="preprocessor">#define usb_stack_action_sof()</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#ifndef usb_stack_action_suspend</span></div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#ab177c693c8d4e4a89f08b84f421bb8e3">   50</a></span>&#160;<span class="preprocessor">#define usb_stack_action_suspend()</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#ifndef usb_stack_action_wake_up</span></div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#ad8849123829fd6e0b31c6d90900300d5">   54</a></span>&#160;<span class="preprocessor">#define usb_stack_action_wake_up()</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#ifndef usb_stack_action_resume</span></div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a6a69b67e8584c5994e7b3fe334afc5e2">   58</a></span>&#160;<span class="preprocessor">#define usb_stack_action_resume()</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#ifndef usb_stack_action_reset</span></div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a776ad6a35576154b672455b43db467a1">   62</a></span>&#160;<span class="preprocessor">#define usb_stack_action_reset()</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#ifndef usb_stack_action_set_configuration</span></div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#abf3a38783c953ff8fa904d5084bbd137">   66</a></span>&#160;<span class="preprocessor">#define usb_stack_action_set_configuration()</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a7bd761043162392a8acd083bce62f8a7">   70</a></span>&#160;<span class="preprocessor">#define usb_stack_send_event(x)               (usb_stack_event |= (1&lt;&lt;x))</span></div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#aeb40b24e20b99470b914db83ec37ddfb">   71</a></span>&#160;<span class="preprocessor">#define usb_stack_ack_event(x)                (usb_stack_event &amp;= ~(1&lt;&lt;x))</span></div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#ae0ee271eb4680bf1e1c09e242a779daa">   72</a></span>&#160;<span class="preprocessor">#define usb_stack_clear_all_event()           (usb_stack_event = 0)</span></div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#affbcacd4d20563095344ae7f358754ae">   73</a></span>&#160;<span class="preprocessor">#define usb_stack_is_usb_event(x)                 ((usb_stack_event &amp; (1&lt;&lt;x)) ? TRUE : FALSE)</span></div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a9b9596e4b86aa9a5bf8a4dcd2b5f0f41">   74</a></span>&#160;<span class="preprocessor">#define usb_stack_is_not_usb_event(x)             ((usb_stack_event &amp; (1&lt;&lt;x)) ? FALSE: TRUE)</span></div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a2e74d2766545a09764c94b7c1a612a23">   75</a></span>&#160;<span class="preprocessor">#define usb_stack_is_host_emergency_exit()        (usb_stack_is_usb_event(EVT_HOST_DISCONNECTION) || usb_stack_is_usb_event(EVT_USB_DEVICE_FUNCTION))</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a8e65027bd2630b342ef2a678001ea830">   77</a></span>&#160;<span class="preprocessor">#define EVT_USB_POWERED               1         // USB plugged</span></div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a2300aefd46bdb777fc0db3276e112755">   78</a></span>&#160;<span class="preprocessor">#define EVT_USB_UNPOWERED             2         // USB unplugged</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a8baa3aa4dc2518c32830ba6a92a77360">   79</a></span>&#160;<span class="preprocessor">#define EVT_USB_DEVICE_FUNCTION       3         // USB in device</span></div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a433df0f6e4ef196cddc7a82f47877667">   80</a></span>&#160;<span class="preprocessor">#define EVT_USB_HOST_FUNCTION         4         // USB in host</span></div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#ac3606e159ecd42741cba511a4a576f9f">   81</a></span>&#160;<span class="preprocessor">#define EVT_USB_SUSPEND               5         // USB suspend</span></div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a0de9d7b1d1f4567d83961a86d46a7874">   82</a></span>&#160;<span class="preprocessor">#define EVT_USB_WAKE_UP               6         // USB wake up</span></div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a2eadc81bd70b67f3dd11084449091d2f">   83</a></span>&#160;<span class="preprocessor">#define EVT_USB_RESUME                7         // USB resume</span></div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#ac28579335a8f21ae1dcef6d69fbb1359">   84</a></span>&#160;<span class="preprocessor">#define EVT_USB_RESET                 8         // USB reset</span></div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#acfb019547665d9f082d732c37f4054ea">   85</a></span>&#160;<span class="preprocessor">#define EVT_HOST_SOF                  9         // Host start of frame sent</span></div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a75614e4896b06236beff47947dc47d15">   86</a></span>&#160;<span class="preprocessor">#define EVT_HOST_HWUP                 10        // Host wakeup detected</span></div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#af519b5bb88574351405a4ee0d3c594f4">   87</a></span>&#160;<span class="preprocessor">#define EVT_HOST_DISCONNECTION        11        // The target device is disconnected</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">//standard device requests; table 9-3</span></div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#aeba76c92af8f1a94982ec4cb767452f0">   90</a></span>&#160;<span class="preprocessor">#define GET_STATUS                     0x00</span></div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#af0c3a37f5cebfda6a3635e8965c1d2a6">   91</a></span>&#160;<span class="preprocessor">#define GET_DEVICE                     0x01</span></div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a1908d37748e7d545ee5f190715624150">   92</a></span>&#160;<span class="preprocessor">#define CLEAR_FEATURE                  0x01           </span></div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a368487f488de54c0506ba0e9d283c338">   93</a></span>&#160;<span class="preprocessor">#define GET_STRING                     0x03</span></div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#af8b97e67097fbf7d56c3dcac52fe679e">   94</a></span>&#160;<span class="preprocessor">#define SET_FEATURE                    0x03           </span></div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#ad3c9f5426c07d7d4da8cf1752a111576">   95</a></span>&#160;<span class="preprocessor">#define SET_ADDRESS                    0x05</span></div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a115a1d866ed9498300d59c90549ead0d">   96</a></span>&#160;<span class="preprocessor">#define GET_DESCRIPTOR                 0x06</span></div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a264a9bda1309d7cc0311d57274194ca3">   97</a></span>&#160;<span class="preprocessor">#define SET_DESCRIPTOR                 0x07</span></div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#ac6bffdcb940a0338051c4baa72498beb">   98</a></span>&#160;<span class="preprocessor">#define GET_CONFIGURATION              0x08</span></div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a5cdfe3de183eb4e190b2ccaa299045bf">   99</a></span>&#160;<span class="preprocessor">#define SET_CONFIGURATION              0x09</span></div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a1846f3a13493771ceced447397221de1">  100</a></span>&#160;<span class="preprocessor">#define GET_INTERFACE                  0x0A</span></div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a90c9c23759bdbb3ba106f88cb5ffc261">  101</a></span>&#160;<span class="preprocessor">#define SET_INTERFACE                  0x0B</span></div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a43c627a14ff41632fa9c234a3df41b2b">  102</a></span>&#160;<span class="preprocessor">#define SYNCH_FRAME                    0x0C</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">//two of the table 9-5 descriptor types (there are 8 altogether)</span></div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a11d53ad875c7bb18da7ae8bec552424d">  105</a></span>&#160;<span class="preprocessor">#define GET_DEVICE_DESCRIPTOR             1</span></div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#aaf4406dd7baaef0eb7125f277291cdde">  106</a></span>&#160;<span class="preprocessor">#define GET_CONFIGURATION_DESCRIPTOR      4</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">//some of the request types from table 9-2</span></div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a6564f9d04738a08483d3a7eac9ab5453">  109</a></span>&#160;<span class="preprocessor">#define REQUEST_DEVICE_STATUS          0x80 //device-to-host; standard request; device</span></div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a4985edb147fb89607e408fe2db526fdd">  110</a></span>&#160;<span class="preprocessor">#define REQUEST_INTERFACE_STATUS       0x81 //device-to-host; standard request; interface</span></div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#adb5adef6dd5dd9be356d3cca136e2b63">  111</a></span>&#160;<span class="preprocessor">#define D2H_CLASS_INTERFACE_REQUEST    0xA1 //device-to-host; class request; interface</span></div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#ace670b8776e2e80369e1bfe5ab4ec7db">  112</a></span>&#160;<span class="preprocessor">#define REQUEST_ENDPOINT_STATUS        0x82 //device-to-host; standard request; endpoint</span></div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a9018cfb3af84a269348240bfd26c2f00">  113</a></span>&#160;<span class="preprocessor">#define H2D_CLASS_INTERFACE_REQUEST    0x21 //host-to-device; class request; interface</span></div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#ade8739d16e4067dce02505cb2e76d25d">  114</a></span>&#160;<span class="preprocessor">#define ZERO_TYPE                      0x00 //host-to-device; standard request; device</span></div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a209e26fda70f65df5ad664d44f318a85">  115</a></span>&#160;<span class="preprocessor">#define INTERFACE_TYPE                 0x01 //host-to-device; standard request; interface</span></div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a61bf34202d0c499dff1d7df35c129b99">  116</a></span>&#160;<span class="preprocessor">#define ENDPOINT_TYPE                  0x02 //host-to-device; standard request; endpoint</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">//descriptor types from table 9-5</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">//used by GET DESCRIPTOR and SET DESCRIPTOR</span></div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#aecd4c19bbe800ec917cfcaa91e4347d1">  120</a></span>&#160;<span class="preprocessor">#define DEVICE_DESCRIPTOR                     0x01</span></div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a16d470261826d2b3f2af975f7a965b90">  121</a></span>&#160;<span class="preprocessor">#define CONFIGURATION_DESCRIPTOR              0x02</span></div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a875e5da7a1540475d6ee1ca13f30cd00">  122</a></span>&#160;<span class="preprocessor">#define STRING_DESCRIPTOR                     0x03</span></div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#aa4c7101997d5cfd2e703858629cae0b8">  123</a></span>&#160;<span class="preprocessor">#define INTERFACE_DESCRIPTOR                  0x04</span></div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#ac0a8043ee51f310d6ef9c993d1a79287">  124</a></span>&#160;<span class="preprocessor">#define ENDPOINT_DESCRIPTOR                   0x05</span></div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#afeb17c285ae0402d737219e1d67f94c6">  125</a></span>&#160;<span class="preprocessor">#define DEVICE_QUALIFIER_DESCRIPTOR           0x06</span></div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a671ac79d7ab6dd8873daca7de11cde7a">  126</a></span>&#160;<span class="preprocessor">#define OTHER_SPEED_CONFIGURATION_DESCRIPTOR  0x07</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">//standard feature selectors from table 9-6</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">//used by CLEAR FEATURE and SET FEATURE</span></div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#aaed2cadbb0c06010643190af6ec5519d">  132</a></span>&#160;<span class="preprocessor">#define FEATURE_DEVICE_REMOTE_WAKEUP   0x01</span></div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#ad7f317537ca8ae0f8109d7226855ea54">  133</a></span>&#160;<span class="preprocessor">#define FEATURE_ENDPOINT_HALT          0x00</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">//TEST MODE is 0x02</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">//test mode selectors from table 9-7. Used by SET FEATURE, TEST MODE</span></div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#ab9387baa67fbacb67dc4bb8fb5099946">  137</a></span>&#160;<span class="preprocessor">#define TEST_J                         0x01</span></div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#aaab96404e28a24eeb6b35728f5252e84">  138</a></span>&#160;<span class="preprocessor">#define TEST_K                         0x02</span></div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a5f7fc24dcb7fc42f51180b36802775c0">  139</a></span>&#160;<span class="preprocessor">#define TEST_SEO_NAK                   0x03</span></div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a152da32a52335df9750401371545db85">  140</a></span>&#160;<span class="preprocessor">#define TEST_PACKET                    0x04</span></div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a7a36655d1e4d70e86ec3431e8ec05e97">  141</a></span>&#160;<span class="preprocessor">#define TEST_FORCE_ENABLE              0x05</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">//device states</span></div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a762fa5d8c5d91e6acea6891d7ca643ef">  144</a></span>&#160;<span class="preprocessor">#define ATTACHED                          0 //only comes into play for a self powered device</span></div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a2695e45377366b596d024f1fbcdf8126">  145</a></span>&#160;<span class="preprocessor">#define POWERED                           1</span></div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a3da44afeba217135a680a7477b5e3ce3">  146</a></span>&#160;<span class="preprocessor">#define DEFAULT                           2</span></div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a3f7dfffea850e3dbeece5cafdfb76075">  147</a></span>&#160;<span class="preprocessor">#define ADDRESSED                         3</span></div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a514476189fbaf15c716d5e846955d2b8">  148</a></span>&#160;<span class="preprocessor">#define CONFIGURED                        4</span></div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#aeb2de2a76ea6728368042cf7a3fcd60c">  149</a></span>&#160;<span class="preprocessor">#define SUSPENDED                         5</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a8d2be9c054c91e935f5fbd709da0b99b">  151</a></span>&#160;<span class="preprocessor">#define USB_CONFIG_ATTRIBUTES_RESERVED    0x80</span></div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a84368a08ebfab2ab7d65ade6f3198096">  152</a></span>&#160;<span class="preprocessor">#define USB_CONFIG_BUSPOWERED            (USB_CONFIG_ATTRIBUTES_RESERVED | 0x00)</span></div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#aa45d9d03d39e31876d49414dbc4c4037">  153</a></span>&#160;<span class="preprocessor">#define USB_CONFIG_SELFPOWERED           (USB_CONFIG_ATTRIBUTES_RESERVED | 0x40)</span></div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a01b8f4decd098cee2a222b900715215b">  154</a></span>&#160;<span class="preprocessor">#define USB_CONFIG_REMOTEWAKEUP          (USB_CONFIG_ATTRIBUTES_RESERVED | 0x20)</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">// Device Status</span></div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#a86bc3f061001a2c9413f7547d660378a">  157</a></span>&#160;<span class="preprocessor">#define BUS_POWERED                       0</span></div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="usb__stack_8h.html#abeddab1c5a612811eddacda0774a7f10">  158</a></span>&#160;<span class="preprocessor">#define SELF_POWERED                      1</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="ttc" id="group__std__request_html_ga8fd55460e1cb09b83e99cd403fd5eeb8"><div class="ttname"><a href="group__std__request.html#ga8fd55460e1cb09b83e99cd403fd5eeb8">usb_stack_init_device</a></div><div class="ttdeci">void usb_stack_init_device()</div><div class="ttdoc">Initializes the usb stack in device mode. </div><div class="ttdef"><b>Definition:</b> <a href="usb__stack_8c_source.html#l00022">usb_stack.c:22</a></div></div>
<div class="ttc" id="group__std__request_html_ga86bea8cf48b972656c17d6e13a3c2df5"><div class="ttname"><a href="group__std__request.html#ga86bea8cf48b972656c17d6e13a3c2df5">usb_stack_service</a></div><div class="ttdeci">void usb_stack_service()</div><div class="ttdoc">Called in a loop to service the usb stack. </div><div class="ttdef"><b>Definition:</b> <a href="usb__stack_8c_source.html#l00056">usb_stack.c:56</a></div></div>
<div class="ttc" id="compiler_8h_html_adf928e51a60dba0df29d615401cc55a8"><div class="ttname"><a href="compiler_8h.html#adf928e51a60dba0df29d615401cc55a8">U16</a></div><div class="ttdeci">unsigned short U16</div><div class="ttdef"><b>Definition:</b> <a href="compiler_8h_source.html#l00045">compiler.h:45</a></div></div>
<div class="ttc" id="usb__stack_8h_html_a0251275ab3599c16c2643203dfddd1f2"><div class="ttname"><a href="usb__stack_8h.html#a0251275ab3599c16c2643203dfddd1f2">usb_stack_event</a></div><div class="ttdeci">volatile U16 usb_stack_event</div><div class="ttdef"><b>Definition:</b> <a href="usb__stack_8c_source.html#l00016">usb_stack.c:16</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_df8e60bccaeda0370e8a8ead45441573.html">Code</a></li><li class="navelem"><a class="el" href="dir_bdfe019d3debabf23a209f84134e5bd4.html">avr</a></li><li class="navelem"><a class="el" href="dir_7ec5e7499ec15c6f0576894a28581762.html">smfirmware</a></li><li class="navelem"><a class="el" href="dir_171c28c51713a0561247e8ba279c2fde.html">usbstack</a></li><li class="navelem"><a class="el" href="usb__stack_8h.html">usb_stack.h</a></li>
    <li class="footer">Generated on Thu Sep 8 2016 18:42:50 for USB Load Cell Interface by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
